'use strict';
const Joi = require('joi');
const MongoModels = require('mongo-models');

class {{name}} extends MongoModels {

  static create({{createPayload}}callback) {

    const document = {
    {{#each createVariables}}
      {{this}}
    {{/each}}
    };

    this.insertOne(document, (err, docs) => {

      if (err) {
        return callback(err);
      }

      callback(null, docs[0]);
    });
  }
}


{{name}}.collection = '{{lowercasePluralName}}';


{{name}}.schema = {{schema}}

{{name}}.payload = {{payload}}



{{name}}.indexes = {{indexes}}


module.exports = {{name}};
