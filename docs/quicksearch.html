<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" Documentation Classes AnchorModel Classes Classes AnchorModel × Search results Close Documentation generated by JSDoc 3.5.5 on August 8th 2018, 4:45:12 pm using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Classes AnchorModel Anchor A user system API starter with a database administrative system. Bring your own front-end. Features Login system with forgot password and reset password Abusive login attempt detection User roles for analysts, clinicians, researchers, admins Analyst can view anonymized information Clinician can view information of specific users Researcher can view all information Admins can view update and delete all information Auto Backups Admin UI to view Database Records Custom Event Tracking User Feedback System Email Invites API Tokens TechnologyAnchor is built with the hapi framework. We're using MongoDB as a data store. This project was originally a fork from Frame Live demo url username password https://getframe.herokuapp.com/ root root https://getframe.herokuapp.com/docs ---- ---- Postman is a great tool for testing and developing APIs. See the wiki for details on how to login. RequirementsYou need Node.js installed and you'll need MongoDB installed and running. We use bcrypt for hashing secrets. If you have issues during installation related to bcrypt then refer to this wiki page. Installation$ git clone git@github.com:hicsail/anchor.git $ cd anchor $ npm installConfigurationSimply edit config.js. The configuration uses confidence which makes it easy to manage configuration settings across environments. Don't store secrets in this file or commit them to your repository. Instead, access secrets via environment variables. We use dotenv to help make setting local environment variables easy (not to be used in production). Simply copy .env-sample to .env and edit as needed. Don't commit .env to your repository. First time setupWARNING: This will clear all data in the following MongoDB collections if they exist: authAttempts, backups, events, feedback, invite, sessions, tokens, and users. $ npm run first-time-setup # &gt; anchor@0.0.0 first-time-setup /home/hicsail/projects/anchor # &gt; node first-time-setup.js # MongoDB URL: (mongodb://localhost:27017/anchor) # Root user email: jedireza@gmail.com # Root user password: # Setup complete.Running the app$ npm start # &gt; anchor@0.0.0 start /Users/hicsail/projects/anchor # &gt; ./node_modules/nodemon/bin/nodemon.js -e js,md server # 09 Sep 03:47:15 - [nodemon] v1.10.2 # ...Now you should be able to point your browser to http://127.0.0.1:9000/ and see the welcome message. nodemon watches for changes in server code and restarts the app automatically. We also pass the --inspect flag to Node so you have a debugger available. Watch the output of $ npm start and look for the debugging URL and open it in Chrome. It looks something like this: chrome-devtools://devtools/remote/serve_file/@62cd277117e6f8ec53e31b1be58290a6f7ab42ef/inspector.html?experiments=true&amp;v8only=true&amp;ws=localhost:9229/node Running in production$ node server.jsUnlike $ npm start this doesn't watch for file changes. Also be sure to set these environment variables in your production environment: NODE_ENV=production - This is important for many different optimizations. NPM_CONFIG_PRODUCTION=false - This tells $ npm install to not skip installing devDependencies, which we may need to run the first time setup script. Running with DockerRunning with Docker and Docker Compose is quick and easy. Just run $ docker-compose up --buildDocker compose will download MongoDB and Node.js into containers and start running the application in production mode. Have a question?Any issues or questions (no matter how basic), open an issue. Please take the initiative to read relevant documentation and be pro-active with debugging. Want to contribute?Contributions are welcome. If you're changing something non-trivial, you may want to submit an issue before creating a large pull request. Running testsLab is part of the hapi ecosystem and what we use to write all of our tests. $ npm test # &gt; anchor@0.0.0 test /Users/hicsail/projects/anchor # &gt; ./node_modules/lab/bin/lab -c # .................................................. # .................................................. # .................................................. # .................................................. # .................................................. # .................................................. # .................................................. # ......... # 359 tests complete # Test duration: 3062 ms # No global variable leaks detected # Coverage: 100.00% # Linting results: No issuesLicenseMIT × Search results Close Documentation generated by JSDoc 3.5.5 on August 8th 2018, 4:45:12 pm using the DocStrap template. "},"AnchorModel.html":{"id":"AnchorModel.html","title":"Class: AnchorModel","body":" Documentation Classes AnchorModel Class: AnchorModel AnchorModel new AnchorModel(data) Create a new instance of your class Parameters: Name Type Description data object an object containing the fields and values of the model instance. Internally data is passed to the validate function, throwing an error if present or assigning the value (the validated value with any type conversions and other modifiers applied) to the object as properties. Returns: returns an instance of your class Type AnchorModel Methods &lt;async, static&gt; aggregate(pipeline [, options]) Execute an aggregation framework pipeline against the collection. Parameters: Name Type Argument Description pipeline Array.&lt;object&gt; an array containing all the aggregation framework commands. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.aggregate method. Returns: Type Array.&lt;AnchorModel&gt; &lt;static&gt; collection() Returns the underlying MongoDB.Collection Returns: Type Collection &lt;async, static&gt; connect(connection [, options] [, name]) Connects to a MongoDB server and returns the MongoDB.Db Parameters: Name Type Argument Default Description connection object connection object Properties Name Type Description uri string the uri of the database. See uri string docs db string the name of the database. options object &lt;optional&gt; an optional object passed to MongoClient.connect. name string &lt;optional&gt; default an optional string to identify the connection. Used to support multiple connections along with the with(name) method. Returns: Type Promise &lt;static&gt; count(query [, options]) Returns the number of documents matching a query Parameters: Name Type Argument Description query object a filter object used to select the documents to count. options object &lt;optional&gt; an optional object passed to the native Collection.count method. Returns: Type Promise.&lt;Number&gt; &lt;async, static&gt; createIndexes(indexSpecs [, options]) Creates multiple indexes in the collection and returns the result Parameters: Name Type Argument Description indexSpecs Array.&lt;object&gt; an array of objects containing index specifications to be created. See the index specification. options object &lt;optional&gt; an optional object passed to the native Collection.createIndexes method. Returns: Type Promise Example // Indexes are defined as a static property on your models like: Customer.indexes = [ { key: { name: 1 } }, { key: { email: -1 } } ]; &lt;async, static&gt; deleteMany(filter [, options]) Deletes multiple documents and returns the Collection.deleteWriteOpResult Parameters: Name Type Argument Description filter object a filter object used to select the documents to delete. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.deleteMany method. Returns: Type Promise &lt;async, static&gt; deleteOne(filter [, options]) Deletes a document and returns the Collection.deleteWriteOpResult Parameters: Name Type Argument Description filter object a filter object used to select the document to delete. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.deleteOne method. Returns: Type Promise &lt;static&gt; disconnect( [name]) Closes a specific connection by name or all connections if no name is specified. Parameters: Name Type Argument Description name string &lt;optional&gt; Closes a specific connection by name &lt;async, static&gt; distinct(key, query [, options]) Returns a list of distinct values for the given key across a collection Parameters: Name Type Argument Description key string a string representing the field for which to return distinct values. query object an optional query object used to limit the documents distinct applies to. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.distinct method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;static&gt; fieldsAdapter(fields) A helper method to create a fields object suitable to use with MongoDB queries Parameters: Name Type Description fields string a string with space separated field names. Fields may be prefixed with - to indicate exclusion instead of inclusion. Returns: Type object &lt;async, static&gt; find(query [, options]) Finds documents and returns an array of model instances Parameters: Name Type Argument Description query object a query object used to select the documents. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.find method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findById(id [, options]) Finds a document by _id and returns a model instance. Parameters: Name Type Argument Description id string a string value of the _id to find. The id will be casted to the type of _idClass. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.findOne method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findByIdAndDelete(id) Finds a document by _id, deletes it and returns a model instance Parameters: Name Type Description id string a string value of the _id to find. The id will be casted to the type of _idClass Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findByIdAndUpdate(id, update [, options]) Finds a document by _id, updates it and returns a model instance Parameters: Name Type Argument Description id string a string value of the _id to find. The id will be casted to the type of _idClass. update object an object containing the fields/values to be updated. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.findOneAndUpdate method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findOne(filter [, options]) Finds a document by _id, updates it and returns a model instance Parameters: Name Type Argument Description filter object a filter object used to select the document. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.findOne method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findOneAndDelete(filter [, options]) Finds one document matching a filter, deletes it and returns a model instance Parameters: Name Type Argument Description filter object a filter object used to select the document to delete. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.findOneAndDelete method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findOneAndReplace(filter, replacement [, options]) Finds one document matching a filter, deletes it and returns a model instance Parameters: Name Type Argument Description filter object a filter object used to select the document to replace. replacement object the document replacing the matching document. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.findOneAndReplace method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; findOneAndUpdate(filter, update [, options]) Finds one document matching a filter, deletes it and returns a model instance Parameters: Name Type Argument Description filter object a filter object used to select the document to replace. update object an object containing the fields/values to be updated. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.findOneAndUpdate method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; insertMany(docs [, options]) Inserts multiple documents and returns and array of model instances Parameters: Name Type Argument Description docs Array.&lt;object&gt; an array of document objects to insert. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.insertMany method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; insertOne(doc [, options]) Inserts a document and returns a model instance Parameters: Name Type Argument Description doc object a document object to insert. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.insertOne method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; lookup(filter, lookups [, options]) Finds documents and returns an array of model instances with references to multiple collections Parameters: Name Type Argument Default Description filter object a query object used to select the documents. lookups Array.&lt;object&gt; an array of lookup objects. lookups[].from AnchorModel &lt;optional&gt; the collection object to reference. lookups[].foreign string the field name on the from's collection to join upon. lookups[].local string the field name on this collection to join upon. lookups[].as string the field name on where to put the associated from objects. lookups[].lookups Array.&lt;object&gt; &lt;optional&gt; additional lookups to be added to the from's collection. lookups[].options object &lt;optional&gt; an optional object passed to MongoDB's native on the from's Collection.find method. lookups[].one boolean &lt;optional&gt; false an optional flag passed set the results of the look up to be an object rather than an array options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.find method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; lookupById(id, lookups [, options]) Finds a document by _id and returns an array of model instances with references to multiple collections Parameters: Name Type Argument Description id string a query object used to select the documents. lookups Array.&lt;object&gt; an array of lookup objects. lookups[].from AnchorModel &lt;optional&gt; the collection object to reference. lookups[].foreign string the field name on the from's collection to join upon. lookups[].local string the field name on this collection to join upon. lookups[].as string the field name on where to put the associated from objects. lookups[].lookups Array.&lt;object&gt; &lt;optional&gt; additional lookups to be added to the from's collection. lookups[].options object &lt;optional&gt; an optional object passed to MongoDB's native on the from's Collection.find method. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.find method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; lookupOne(query, lookups [, options]) Finds one document matching the query and returns an array of model instances with references to multiple collections Parameters: Name Type Argument Description query object a query object used to select the document. lookups Array.&lt;object&gt; an array of lookup objects. lookups[].from AnchorModel &lt;optional&gt; the collection object to reference. lookups[].foreign string the field name on the from's collection to join upon. lookups[].local string the field name on this collection to join upon. lookups[].as string the field name on where to put the associated from objects. lookups[].lookups Array.&lt;object&gt; &lt;optional&gt; additional lookups to be added to the from's collection. lookups[].options object &lt;optional&gt; an optional object passed to MongoDB's native on the from's Collection.find method. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.find method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; pagedFind(filter, page, limit [, options]) Finds documents and returns the results of a given size and page Parameters: Name Type Argument Description filter object a filter object used to select the documents. page number a number indicating the current page. limit number a number indicating how many results should be returned. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.find method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; pagedLookup(filter, page, limit, lookups [, options]) Finds documents and returns the results of a given size and page Parameters: Name Type Argument Default Description filter object a filter object used to select the documents. page number a number indicating the current page. limit number a number indicating how many results should be returned. lookups Array.&lt;object&gt; an array of lookup objects. lookups[].from AnchorModel &lt;optional&gt; the collection object to reference. lookups[].foreign string the field name on the from's collection to join upon. lookups[].local string the field name on this collection to join upon. lookups[].as string the field name on where to put the associated from objects. lookups[].lookups Array.&lt;object&gt; &lt;optional&gt; additional lookups to be added to the from's collection. lookups[].options object &lt;optional&gt; an optional object passed to MongoDB's native on the from's Collection.find method. lookups[].one boolean &lt;optional&gt; false an optional flag passed set the results of the look up to be an object rather than an array options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.find method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; replaceOne(filter, doc [, options]) replaces a document and returns a Collection.updateWriteOpResult Parameters: Name Type Argument Description filter object a filter object used to select the document to replace. doc object the document that replaces the matching document. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.replaceOne method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;static&gt; sortAdapter(sorts) A helper method to create a sort object suitable to use with MongoDB queries where: Parameters: Name Type Description sorts string a string with space separated field names. Fields may be prefixed with - to indicate decending sort order. Returns: Type object &lt;async, static&gt; updateMany(filter, update [, options]) Updates multiple documents and returns a Collection.updateWriteOpResult Parameters: Name Type Argument Description filter object a filter object used to select the documents to update. update object the update operations object. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.updateMany method. Returns: Type Promise.&lt;AnchorModel&gt; &lt;async, static&gt; updateOne(filter, update [, options]) Updates a document and returns a Collection.updateWriteOpResult Parameters: Name Type Argument Description filter object a filter object used to select the document to update. update object the update operations object. options object &lt;optional&gt; an optional object passed to MongoDB's native Collection.updateMany method. Returns: Type Promise.&lt;AnchorModel&gt; × Search results Close Documentation generated by JSDoc 3.5.5 on August 8th 2018, 4:45:12 pm using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
