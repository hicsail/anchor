<div class="container" style="padding-top: 60px">
  <div class="row justify-content-center">
    <div class="col-xl-6 col-lg-6">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Reset Password</h4>
          <form id="resetPasswordForm">
            <!--<div class="form-group">-->
              <!--<label for="oldPassword">Old Password</label>-->
              <!--<input type="password" class="form-control" name="oldPassword" id="oldPassword" placeholder="Old Password" required>-->
            <!--</div>-->
            <!--<hr>-->
            <div class="form-group">
              <label for="password">New Password</label>
              <input type="password" class="form-control" name="password" id="password" placeholder="Password" required>
            </div>
            <div class="form-group">
              <label for="confirmpassword">Confirm New Password</label>
              <input type="password" class="form-control" name="confirmpassword" id="confirmpassword"
                     placeholder="Password" required>
            </div>
            <button id="update" type="submit" class="btn btn-primary">Update</button>
            <button id="cancel" type="submit" class="btn btn-warning">Cancel</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  body {
    background-color: #bbb;
  }
</style>
<script>
  var password, confirmpassword;

  $('#update').click(function (e) {
    e.preventDefault();
    password = $('#password').val();
    confirmpassword = $('#confirmpassword').val();

    if (!passwordsMatch(password, confirmpassword)) {
      errorAlert('Passwords do not match.');
    } else {
      if (confirm('Are you sure you want to change your password?')) {
        $.ajax({
          type: 'PUT',
          url: '../api/users/my/password',
          data: {password: password},
          success: function (result) {
            window.location.pathname = '/account';
          },
          error: function (result) {
            errorAlert('Something went wrong.');
          }
        });
      }
    }
  });

  $('#cancel').click(function (e) {
    e.preventDefault();
    window.location.pathname = 'account';
  });

  function passwordsMatch(p1, p2) {
    return p1 === p2;
  }

</script>
