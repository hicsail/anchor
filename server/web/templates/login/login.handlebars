<div class="container" style="padding-top: 60px">
  <div class="row justify-content-center">
    <div class="col-xl-6 col-lg-6">
      <div class="card">
        <div class="card-body">
          <h4 class="card-title">Login</h4>
          <form id="loginForm">
            <div class="form-group">
              <label for="username">Username</label>
              <input type="text" class="form-control" name="username" id="username" aria-describedby="usernameHelp"
                     placeholder="Enter username">
              <small id="usernameHelp" hidden class="form-text text-muted">We'll never share your email with anyone
                else.
              </small>
            </div>
            <div class="form-group">
              <label for="password">Password</label>
              <input type="password" class="form-control" name="password" id="password" placeholder="Password">
            </div>
            <div class="form-check">
              <label class="form-check-label">
                <input type="checkbox" class="form-check-input"> Remember Me
              </label>
            </div>
            <button id="login" type="submit" class="btn btn-primary">Login</button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<style>
  body {
    background-color: #bbb;
  }
</style>
<script>

  var fields = [$('#username'), $('#password')];

  $('#login').click(function (event) {
    event.preventDefault();

    if (!filled(fields)) {
      errorAlert('Please fill in all of the fields.');
    } else {
      var values = {};
      $.each($('#loginForm').serializeArray(), function (i, field) {
        values[field.name] = field.value;
      });
      $.ajax({
        type: "POST",
        url: '../api/login',
        data: values,
        success: function (result) {
          location.reload();
        },
        error: function (result) {
          errorAlert(result.responseJSON.message);
        }
      });
    }


  });


  // Check if array of fields are filled; fields = [$(selector), $(selector), ...]
  function filled(fields) {
    for (var i = 0; i < fields.length; i++) {
      if (fields[i].val() === '') {
        return false;
      }
    }
    return true;
  }
</script>
